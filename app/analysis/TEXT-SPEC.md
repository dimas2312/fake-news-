# 🗞️ Fake News Generator – `generate.py`
This script defines a function `generate()` that takes a short image description and
uses a **GPT-2 language model** to generate a **fake news article**. It is designed 
to produce **dramatic, suspicious, and fictional stories** based on image content.

Imports description: 
 - pipeline: Simplifies model usage for specific tasks like text generation.
 - set_seed: Sets a seed for reproducibility of results

---

## 📦 Imports

```python
from transformers import pipeline, set_seed
```

---

## 🧠 Model Initialization

Initializes a text generation pipeline using the GPT-2 model (openai-community/gpt2 from Hugging Face).
Sets a fixed random seed to make generation results more deterministic during development or testing.

```python
generator = pipeline("text-generation", model="openai-community/gpt2")
set_seed(42)
```

---

## 📝 generate() Function

Takes an image description (as generated by a captioning model).
Returns a dramatic fake news article based on that description.

```python
def generate(description):
```

---


## 🧾 Prompt Construction

Constructs a prompt to guide GPT-2 into generating a fictional news article.
Includes:
 - Image description.
 - Instructions to make it sound dramatic and suspicious.
 - A delimiter (---) to help isolate the generated content.

```python
prompt = (
   f"Write news article based on the following short image description:\n"
   f"'{description}'.\n"
   f"Make it sound dramatic and suspicious. Include made-up details.\n"
   f"---"
)
```

---


## 🧠 Text Generation

Calls the generator pipeline with:
 - max_length=200: Caps the total number of tokens.
 - do_sample=True: Enables random sampling (vs. greedy decoding).
 - temperature=0.9: Encourages more creative, less deterministic output.
 - 
```python
generated = generator(
   prompt,
   max_length=200,
   num_return_sequences=1,
   do_sample=True,
   temperature=0.9
)[0]["generated_text"]
```


---

## ✂️ Output Post-Processing
Extracts only the text after the prompt delimiter (---).
Removes leading/trailing whitespace.

```python
return generated.split("---")[-1].strip()
```

---


## 🖨️ Debugging Output

Prints the input description and the full raw output for debugging purposes (optional in production).

```python
print(f"Desc: '{description}'")
print(generated)
```

---


## 🧪 Example Output 

**Input**
```text
A man holding a mysterious briefcase in a dark alley.
```
**Output**
```text
Authorities are baffled after a man was spotted in a downtown alley holding what appears to be a government-issue briefcase...
```